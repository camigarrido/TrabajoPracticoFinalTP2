@Host=http://127.0.0.1
@Port=3004
@EndpointTemplate = api/users

# ALTERNATIVE: Use manual token setting if script blocks don't work
@admin_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5Mjc2Mjc5ZjUwZDkwNjVkNTMyMDUyNSIsImVtYWlsIjoiYWRtaW4xMjNAZXhhbXBsZS5jb20iLCJuYW1lIjoiQWRtaW4gVXNlciIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTc2NDE4ODgyOSwiZXhwIjoxNzY0Mjc1MjI5fQ.ekqdUQ-e92Guu6Z0xyS1y4qKSoSj-qQiewWoiGV82oU
@user_token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjUxOTYyZjhiYTgwZTkwN2I1OWFmNSIsImVtYWlsIjoianVhbi5wZXJlekBleGFtcGxlLmNvbSIsIm5hbWUiOiJKdWFuIFDDqXJleiIsInJvbGUiOiJ1c2VyIiwiaWF0IjoxNzY0MTE1MzEzLCJleHAiOjE3NjQyMDE3MTN9.ZPIzvPBc3XWECk6sCSUrIPRZdNvcAcIgNC-uk8HRwNw
@admin_user_id = 69276279f50d9065d5320525
@user_id = 69271d7642c95c6b0bafde4c

### 1. Crear usuario admin (para testing)
POST {{Host}}:{{Port}}/{{EndpointTemplate}}/create
Content-Type: application/json

{
  "name": "Admin User",
  "email": "admin123@example.com",
  "password": "admin123",
  "age": 30,
  "role": "admin"
}

###

### 2. Login de usuario admin (SIMPLE - sin variables dinámicas)
POST {{Host}}:{{Port}}/{{EndpointTemplate}}/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "admin123"
}

###

### 2b. Login de usuario admin (CON variables dinámicas)
POST {{Host}}:{{Port}}/{{EndpointTemplate}}/login
Content-Type: application/json

{
  "email": "admin123@example.com",
  "password": "admin123"
}

###

### 3. Crear usuario regular
POST {{Host}}:{{Port}}/{{EndpointTemplate}}/create
Content-Type: application/json

{
  "name": "Juan Pérez",
  "email": "juan.perez@example.com",
  "password": "password123",
  "age": 25,
  "role": "user"
}

###

### 4. Login de usuario regular
POST {{Host}}:{{Port}}/{{EndpointTemplate}}/login
Content-Type: application/json

{
  "email": "juan.perez@example.com",
  "password": "password123"
}


###

### 5. Obtener todos los usuarios (usa token admin)
GET {{Host}}:{{Port}}/{{EndpointTemplate}}/all
Authorization: Bearer {{admin_token}}
Content-Type: application/json

###

### 6. Obtener usuario por ID (usa token admin)
GET {{Host}}:{{Port}}/{{EndpointTemplate}}/user/{{user_id}}
Authorization: Bearer {{admin_token}}
Content-Type: application/json

###

### 7. Actualizar usuario propio (usa token de usuario regular)
PATCH {{Host}}:{{Port}}/{{EndpointTemplate}}/update
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "id": "{{user_id}}",
  "name": "Juan Carlos Pérez",
  "email": "juan.carlos@example.com",
  "age": 26
}

###

### 8. Actualizar estado del usuario (usa token admin)
PATCH {{Host}}:{{Port}}/{{EndpointTemplate}}/status/{{user_id}}
Authorization: Bearer {{admin_token}}
Content-Type: application/json

{
  "isActive": false
}

###

### 9. Eliminar usuario (usa token admin O token del propio usuario)
DELETE {{Host}}:{{Port}}/{{EndpointTemplate}}/delete/{{user_id}}
Authorization: Bearer {{admin_token}}
Content-Type: application/json

###

### 9b. Eliminar usuario propio (usa token del usuario regular)
DELETE {{Host}}:{{Port}}/{{EndpointTemplate}}/delete/{{user_id}}
Authorization: Bearer {{user_token}}
Content-Type: application/json

###
GET {{Host}}:{{Port}}/{{EndpointTemplate}}/export/users
Authorization: Bearer {{user_token}}


GET {{Host}}:{{Port}}/{{EndpointTemplate}}/indicators/users
Authorization: Bearer {{user_token}}
Content-Type: application/json
